# Aufgabe 3: White und Black Box Testfälle

## Beschreibung

Unsere Aufgabe war es, sich mit dem Code einer Software vertraut zu machen, welche dem User grundlegende Bankfunktionalitäten zur Verfügung stellt.

## Vorgehensweise

Wir haben uns die verschiedenen Klassen im Detail angeschaut und uns einen Überblick über das Zusammenspiel der Funktionalitäten der Klassen gemacht. Danach haben wir die wichtigsten Black Box Testfälle aufgelistet (ohne sie durchzuführen, da es in der Aufgabenstellung nicht erwähnt wird), des weiteren WhiteBox Tesfälle und zu letzt Best Practice Vorschläge & mögliche Mängel.

### Black Box Testfälle

| ID      | Beschreibung                                                                                                                                 | Schritte                                                                                                                                                                                                                                                          | Erwartetes Resultat                                                                                                                                                                                                                                               |
| ------- | -------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Bank_1  | Der Benutzer kann ein bestimmtes Konto bearbeiten                                                                                            | 1. Das Programm starten 2. Eine Kontonummer angeben, welche existiert                                                                                                                                                                                             | Der Benutzer sieht eine Übersicht mit allen Funktionalitäten die er auf seinem Konto vornehemen kann (Einzahlung, Abhebung, Kontostand einsehen, Konto löschen, Betrag auf ein anderes Konot überweisen, Konto wechseln, Beenden)                                 |
| Bank_2  | Der Benutzer gibt eine falsche Kontonummer ein                                                                                               | 1. Das Programm starten 2. Eine Kontonummer angeben, welche nicht existiert                                                                                                                                                                                       | Das Programm gibt die Fehlermeldung "Ein Konto mit dieser Nummer ist nicht vorhanden!" aus                                                                                                                                                                        |
| Bank_3  | Der Benutzer kann ein neues Konto erstellen                                                                                                  | 1. Das Programm starten 2. "e" eingeben 3. Nachname eingeben 4. Währungskürzel "SEK" eingeben                                                                                                                                                                     | Der Benutzer sieht nach der Eingabe die Mitteilung "! Die eingegebene Währung ist nicht bekannt, es wird USD verwendet." und danach das erstellte Konto mit den eingegeben Details                                                                                |
| Bank_4  | Der Benutzer gibt beim Erstellen eines neuen Kontos ein falsches Währungskürzel an, wird darauf hingewiesen und kann die Eingabe wiederholen | 1. Das Programm starten 2. "e" eingeben 3. Nachname eingeben 4. Währungskürzel "SEKI" eingeben                                                                                                                                                                    | Der Benutzer sieht nach der Eingabe die Meldung "! Ungültige Eingabe !" und kann nochmal eine Währung angeben                                                                                                                                                     |
| Bank_5  | Der Benutzer will in Mitten des Erstellen eines Kontos den Prozess abbrechen                                                                 | 1. Das Programm starten 2. "e" eingeben 3. Nachname eingeben 4. Auf "q" drücken, um abzubrechen                                                                                                                                                                   | Es kommt die Ausgabe "Auf Wiedersehen" und das Programm wird geschlossen                                                                                                                                                                                          |
| Bank_6  | Der Benutzer möchte euf ein anderes Konto Geld überweisen                                                                                    | 1. Programm starten 2. Gültige Kontonummer eingeben 3. "ü" auswählen 4. Kontonummer des anderen Kontos angeben 5. Gültigen Betrag eingeben                                                                                                                        | Der Benutzer sieht nach der Eingabe das aktuelle Saldo des ersten Kontos, wobei der übertragene Betrag vom aktuellen Saldo abgezogen wurde.                                                                                                                       |
| Bank_7  | Der Benutzer möchte euf ein anderes Konto Geld überweisen, aber gibt einen Betrag an, welcher grösser als sein aktuelles Saldo ist.          | 1. Programm starten 2. Gültige Kontonummer eingeben 3. "ü" auswählen 4. Kontonummer des anderen Kontos angeben 5. Betrag über dem aktuellen Saldo eingeben                                                                                                        | Das Programm zeigt die Meldung, dass der Kotnostand zu niedrig ist und den aktuellen Betrag. Danach kann der Benutzer einen neuen Betrag angeben.                                                                                                                 |
| Bank_8  | Der Benutzer möchte euf ein anderes Konto Geld überweisen, wobei sein Konto die Währung EUR hat und das andere die Währung CHF               | 1. Programm starten 2. Gültige Kontonummer eingeben 3. "ü" auswählen 4. Kontonummer des anderen Kontos angeben 5. Gültigen Betrag eingeben 6. Sich freuen, da der Euro nicht zu einem Franken konvertiert wurde und somti ein klein wenig Gewinn enstanden ist :) | Nach der Eingabe des Benutzers zeigt das Programm die Meldung "! Es wurde keine Umrechnung vorgenommen." und dann das aktuelle Saldo seines eigenen Kontos.                                                                                                       |
| Bank_9  | Der Benutzer möchte Geld abheben und danach sein Konto löschen                                                                               | 1. Programm starten 2. Gültige Kontonummer eingeben 3. "a" auswählen 4. Gültigen Betrag eingeben 5. Nach der Programmausführung "l" eingeben 6. Bei der Konformation "J" eingeben 7. Damit rechnen, dass das restliche Geld auf den Konto verloren ist :)         | Das Pogramm zeigt nach der EIngabe des zu abhebenden Betrags das neue Saldo an. Nach der Eingabe zu Löschen des Kontos, fragt das Programm nach Konformation und und zeigt nach der Konfirmation die Meldung "Konto mit Nummer " + a.getId() + " wurde gelöscht." |
| Bank_10 | Der Benutzer möchte den Wechselkurs zwischen dem USD und CHF sehen                                                                           | 1. Programm starten 2. "w" eingeben 3. "USD CHF" eingeben                                                                                                                                                                                                         | Das Programm zeigt nach der Eingabe "1 USD = \_\_\_ CHF"                                                                                                                                                                                                          |

### Mögliche Methoden für White Box Testfälle

Es macht Sinn, praktisch alle Methoden zu testen. Besonder wichtig ist, dass Methoden mit viel Logik getstet werden, wie zum Beispiel editAccount(), chooseAccount(), transferAmout()..
Dabei sollte der Fokus auf der Überprüfung aller möglichen Pfade liegen, wie beispielsweise if-else- und switch-Anweisungen, sowie auf verschiedenen Parameterwerten.
Schlussendlich will man auch Ausnahmefälle testen, indem die Eingabewerte zu einer Exception führen. 


### Best practice
- Wenn Variabeln nicht mehr verändert werden sollen (bspw. curreny in Account) *final* verwenden
- Je nachdem wie viele Daten es gibt, könnte man in *Bank* bei der Methode *getAccount* mit stream arbeiten
- Die Methoden chooseAccount und editAccount könnten verkleinert werden (Teile davon auslagern)
- In der Counter Klasse könnten die Variablen mit dem Namen str einen genaueren Namen bekommen
- In der Counter Klasse könnten Matcher und Pattern als Instanzvariabeln initialisiert werden, da sie in mehreren Methoden verwendet werden

### Gefundene Mängel

- Bei der ersten Auswahl von Aktionen, wird bei einer Eingabe eines nicht existierenden Auswahlbuchsteben die Meldung "! Ungültige Eingabe: Bitte eine Zahl, \"a\", \"e\", \"u\" oder \"q\" eingeben!" angezeigt. Hier stimmt "u" nicht und müsste ersetzt werden mit "w".
- Ist es beabsichtigt, dass die Konvertierung der Währung nur in gewissen Fällen eine Konvertierung vornimmt?
